{"version":3,"sources":["views/Finance/Transaksi/Pemasukan.js","views/Finance/queries/queries.js"],"names":["Pemasukan","props","curr","Date","date","toISOString","substr","setDate","getDate","tempo","state","kode","tanggal_transaksi","klien","proyek","keterangan","jatuh_tempo","total_harga","dana_diterima","akun_debit","akun_kredit","modalIsOpen","this","setState","kodeku","nomor","getPemasukansQuery","pemasukans","map","request","parseInt","substring","newKode","e","preventDefault","toggleModal","addPemasukanMutation","variables","getKodeBaru","klien_id","proyek_id","target","total_hargaF","value","refetchQueries","query","pemasukan_id","hapusPemasukanMutation","id","data","getAkunDebitKreditsQuery","loading","akundebitkredits","akundebitkredit","key","nama_akun","no","pemasukan","nama","to","color","size","className","onClick","onDelete","bind","getClientsQuery","clients","client","getProyeksQuery","proyeks","harga","budget","md","hover","bordered","striped","responsive","colSpan","displayPemasukan","previous","tag","active","next","isOpen","onSubmit","submitForm","htmlFor","type","onChange","required","displayKlien","displayProyek","name","placeholder","addonType","Value","setTotalHarga","readOnly","max","defaultValue","displayAkunDebit","displayAkunKredit","Component","compose","graphql","gql","getPengeluaransQuery","addPengeluaranMutation","hapusPengeluaranMutation","getKlienTagihansQuery","addKlienTagihanMutation","hapusKlienTagihanMutation","addAkunDebitKreditMutation","updateAkunDebitKreditMutation","hapusAkunDebitKreditMutation","getPurchaseOrdersQuery"],"mappings":"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","file":"static/js/57.86100052.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Col,\r\n  Pagination,\r\n  PaginationItem,\r\n  Button,\r\n  PaginationLink,\r\n  Row,\r\n  Table,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  InputGroupAddon,\r\n  InputGroup,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Form\r\n} from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport {graphql} from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { getClientsQuery,getProyeksQuery, getAkunDebitKreditsQuery, \r\n  getPemasukansQuery, addPemasukanMutation,} from '../queries/queries';\r\nimport './index.css';\r\n\r\nclass Pemasukan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    var curr = new Date();\r\n    var date = curr.toISOString().substr(0,10);\r\n    curr.setDate(curr.getDate() + 30);\r\n    var tempo = curr.toISOString().substr(0,10);\r\n    this.state = {\r\n        kode: '',\r\n\t\t\t\ttanggal_transaksi: date,\r\n\t\t\t\tklien: '',\r\n\t\t\t\tproyek: '',\r\n\t\t\t\tketerangan: '',\r\n\t\t\t\tjatuh_tempo: tempo,\r\n\t\t\t\ttotal_harga: '',\r\n        dana_diterima: '',\r\n        akun_debit: '',\r\n\t\t\t\takun_kredit: '',\r\n      modalIsOpen: false,\r\n    };\r\n  }\r\n\r\n  toggleModal(){\r\n    this.setState({\r\n      modalIsOpen: ! this.state.modalIsOpen\r\n    });\r\n  }\r\n\r\n  getKodeBaru(){\r\n    var newKode = 'INC-';\r\n    var kodeku = '';\r\n    var nomor = 1;\r\n    var data = this.props.getPemasukansQuery; // eslint-disable-next-line\r\n    data.pemasukans.map(request => {\r\n      if(request.kode !== ''){\r\n        kodeku = request.kode\r\n      } \r\n    })\r\n    if(kodeku !== ''){\r\n      nomor = parseInt(kodeku.substring(4,7))+1\r\n    }\r\n    if(nomor < 10){\r\n      kodeku = newKode+\"00\"+nomor;\r\n    }else if (nomor >= 10 && nomor < 100){\r\n      kodeku = newKode+\"0\"+nomor;\r\n    }else {\r\n      kodeku = newKode+\"\"+nomor;\r\n    }\r\n    return kodeku;\r\n  }\r\n\r\n  submitForm(e){\r\n    e.preventDefault();\r\n    this.toggleModal();\r\n    // this.setState({total_harga:e.target.total_hargaF.value});\r\n    this.props.addPemasukanMutation({\r\n      variables:{\r\n        kode: this.getKodeBaru(),\r\n        tanggal_transaksi: this.state.tanggal_transaksi,\r\n        klien_id: this.state.klien,\r\n        proyek_id: this.state.proyek,\r\n        keterangan: this.state.keterangan,\r\n        jatuh_tempo: this.state.jatuh_tempo,\r\n        akun_debit: this.state.akun_debit,\r\n        akun_kredit: this.state.akun_kredit,\r\n        total_harga: parseInt(e.target.total_hargaF.value),\r\n        dana_diterima: parseInt(this.state.dana_diterima),\r\n      },\r\n      refetchQueries:[{query:getPemasukansQuery}]\r\n    });\r\n    // console.log(parseInt(this.state.total_harga));\r\n    // console.log(e.target.total_hargaF.value) \r\n  }\r\n\r\n  onDelete(pemasukan_id){\r\n    this.props.hapusPemasukanMutation({\r\n      variables:{\r\n        id: pemasukan_id,\r\n      },\r\n      refetchQueries:[{query:getPemasukansQuery}],\r\n    });\r\n  }\r\n\r\n  displayAkunDebit(){\r\n    var data = this.props.getAkunDebitKreditsQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Data Divisi...</div>);\r\n    } else {\r\n      return data.akundebitkredits.map(akundebitkredit => {\r\n       \r\n          return(\r\n            <option key={akundebitkredit.id} value={akundebitkredit.id}> {akundebitkredit.nama_akun} </option>\r\n          );\r\n         \r\n        \r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  displayAkunKredit(){\r\n    var data = this.props.getAkunDebitKreditsQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Data Divisi...</div>);\r\n    } else {\r\n      return data.akundebitkredits.map(akundebitkredit => {\r\n       \r\n          return(\r\n            <option key={akundebitkredit.id} value={akundebitkredit.id}> {akundebitkredit.nama_akun} </option>\r\n          );\r\n       \r\n      });\r\n    }\r\n  }\r\n\r\n  displayPemasukan(){\r\n    var data = this.props.getPemasukansQuery;\r\n    var no = 0;\r\n    if(data.loading){\r\n      return\r\n    } else { // eslint-disable-next-line\r\n      return data.pemasukans.map(pemasukan => {\r\n        \r\n          no++;\r\n          return(\r\n            <tr key={pemasukan.id}>\r\n              <td>{no}</td>\r\n              <td>{pemasukan.tanggal_transaksi}</td>\r\n              <td>{pemasukan.klien.nama}</td>\r\n              <td>{pemasukan.proyek.nama}</td>\r\n              <td>{pemasukan.kode}</td>\r\n              <td>{pemasukan.keterangan}</td>\r\n              <td>{pemasukan.total_harga}</td>\r\n              <td>Tunai / Cicilan</td>\r\n              <td>Lunas / Belum Lunas</td>\r\n              <td>\r\n                <Link to={`/pemasukan/editDataPemasukan/${pemasukan.id}`}>\r\n                <Button color=\"success\" size=\"sm\">\r\n                  <i className=\"fa fa-pencil\"></i>\r\n                </Button>\r\n                </Link>\r\n              </td>\r\n              <td>\r\n                <Button onClick={this.onDelete.bind(this, pemasukan.id)} color=\"danger\" size=\"sm\">\r\n                  <i className=\"fa fa-trash\"></i>\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          );\r\n       \r\n        \r\n      });\r\n    }\r\n  }\r\n\r\n  displayKlien(){\r\n    var data = this.props.getClientsQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Data Klien...</div>);\r\n    } else {\r\n      return data.clients.map(client => {\r\n        return(\r\n          <option key={client.id} value={client.id}> {client.nama} </option>\r\n        );\r\n      });\r\n    };\r\n  }\r\n\r\n  displayProyek(){\r\n    var klien = this.state.klien;\r\n    var data = this.props.getProyeksQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Data Proyek...</div>);\r\n    } else {\r\n      return data.proyeks.map(proyek => {\r\n        if(klien === '' || proyek.client.id === klien){\r\n          return(\r\n            <option key={proyek.id} value={proyek.id}> {proyek.nama} </option>\r\n          );\r\n        }\r\n      });\r\n    }  \r\n  }\r\n\r\n  setTotalHarga(){\r\n    var harga = 0;\r\n    var data = this.props.getProyeksQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Data Proyek...</div>);\r\n    } else {\r\n      data.proyeks.map(proyek => {\r\n        if( proyek.id === this.state.proyek){\r\n          harga = parseInt(proyek.budget);\r\n        }\r\n      });\r\n    } \r\n    return harga;\r\n    \r\n  }\r\n  \r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n           <Col md=\"12\">\r\n            <Card>\r\n              <CardHeader>\r\n                <i className=\"fa fa-align-justify\"></i> Daftar Pemasukan\r\n                <Button size=\"sm\" color=\"primary\" className=\"float-right mb-0\" onClick={this.toggleModal.bind(this)}>\r\n                        <i className=\"fa fa-plus-square\"></i> Buat Transaksi Pemasukan Baru\r\n                    </Button>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Table hover bordered striped responsive size=\"sm\">\r\n                  <thead>\r\n                  <tr>\r\n                    <th>No</th>\r\n                    <th>Tanggal Transaksi</th>\r\n                    <th>Klien</th>\r\n                    <th>Proyek</th>\r\n                    <th>Kode Invoice</th>\r\n                    <th>Keterangan</th>\r\n                    <th>Nilai</th>\r\n                    <th>Tipe Pembayaran</th>\r\n                    <th>Status</th>\r\n                    <th colSpan=\"2\">Aksi</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  {this.displayPemasukan()}\r\n                  \r\n                  </tbody>\r\n                </Table>\r\n                <nav>\r\n                  <Pagination>\r\n                    <PaginationItem><PaginationLink previous tag=\"button\">Prev</PaginationLink></PaginationItem>\r\n                    <PaginationItem active>\r\n                      <PaginationLink tag=\"button\">1</PaginationLink>\r\n                    </PaginationItem>\r\n                    <PaginationItem><PaginationLink tag=\"button\">2</PaginationLink></PaginationItem>\r\n                    <PaginationItem><PaginationLink tag=\"button\">3</PaginationLink></PaginationItem>\r\n                    <PaginationItem><PaginationLink tag=\"button\">4</PaginationLink></PaginationItem>\r\n                    <PaginationItem><PaginationLink next tag=\"button\">Next</PaginationLink></PaginationItem>\r\n                  </Pagination>\r\n                </nav>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n\r\n\r\n        </Row>\r\n        <Modal isOpen={this.state.modalIsOpen}>\r\n          <ModalHeader>Form Tambah Data Pemasukan</ModalHeader>\r\n          <ModalBody>\r\n            <Form onSubmit={(e) => {this.submitForm(e)}}>\r\n          <FormGroup>\r\n                <Label htmlFor=\"name\">Klien / Vendor</Label>\r\n                <Input type=\"select\" id=\"vendor\" onChange={(e) =>this.setState({klien:e.target.value})} required >\r\n                <option value=\"\">Pilih Klien / Vendor</option>\r\n                  {this.displayKlien()}\r\n                </Input>\r\n              </FormGroup>\r\n          <FormGroup>\r\n                <Label htmlFor=\"name\">Nama Proyek</Label>\r\n                <Input type=\"select\" id=\"proyek\" onChange={(e) =>this.setState({proyek:e.target.value})} required >\r\n                <option value=\"\">Pilih Proyek</option>\r\n                  {this.displayProyek()}\r\n                </Input>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Keterangan</Label>\r\n                <Input type=\"textarea\" name=\"Keterangan\" id=\"keterangan\" placeholder=\"Keterangan\"  onChange={(e) =>this.setState({keterangan:e.target.value})} required >\r\n                </Input>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Total Harga</Label>\r\n              <InputGroup>\r\n                <InputGroupAddon addonType=\"prepend\">Rp.</InputGroupAddon>\r\n                <Input type=\"number\" name=\"total_hargaF\" Value={this.setTotalHarga()} placeholder=\"Masukkan Jumlah Biaya\" className=\"text-align-right\" readOnly/> \r\n                <InputGroupAddon addonType=\"append\">.00</InputGroupAddon>\r\n              </InputGroup>\r\n              </FormGroup>\r\n              <FormGroup>\r\n              <Label htmlFor=\"name\">Dana Diterima</Label>\r\n              <InputGroup>\r\n                <InputGroupAddon addonType=\"prepend\">Rp.</InputGroupAddon>\r\n                <Input type=\"number\" max={this.setTotalHarga()} placeholder=\"Masukkan Dana Diterima\" className=\"text-align-right\" onChange={(e) =>this.setState({dana_diterima:e.target.value})} required />\r\n                <InputGroupAddon addonType=\"append\">.00</InputGroupAddon>\r\n              </InputGroup>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Tanggal Transaksi</Label>\r\n                <Input type=\"date\" defaultValue={this.state.tanggal_transaksi} id=\"tgltrans\" placeholder=\"Masukkan Tanggal Transaksi\"  onChange={(e) =>this.setState({tanggal_transaksi:e.target.value})} required />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Jatuh Tempo</Label>\r\n                <Input type=\"date\" defaultValue={this.state.jatuh_tempo} id=\"jatuh_tempo\" placeholder=\"Masukkan Tanggal Jatuh Tempo\"  onChange={(e) =>this.setState({jatuh_tempo:e.target.value})} required />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Akun Debit</Label>\r\n                <Input type=\"select\" name=\"akun_deb\" id=\"akun_deb\"  onChange={(e) =>this.setState({akun_debit:e.target.value})} required>\r\n                <option value=\"\">Pilih Akun Debit</option>\r\n                  {this.displayAkunDebit()}\r\n                </Input>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Akun Kredit</Label>\r\n                <Input type=\"select\" name=\"akun_kre\" id=\"akun_kre\"  onChange={(e) =>this.setState({akun_kredit:e.target.value})} required>\r\n                <option value=\"\">Pilih Akun Kredit</option>\r\n                  {this.displayAkunKredit()}\r\n                </Input>\r\n              </FormGroup>\r\n              <Button type=\"submit\" color=\"primary\">Submit</Button>\r\n              <Button color=\"danger\" onClick={this.toggleModal.bind(this)}>Batal</Button>\r\n            </Form>\r\n          </ModalBody>\r\n        </Modal>\r\n\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(getPemasukansQuery, {name:\"getPemasukansQuery\"}),\r\n  graphql(getClientsQuery, {name:\"getClientsQuery\"}),\r\n  graphql(getProyeksQuery, {name:\"getProyeksQuery\"}),\r\n  graphql(addPemasukanMutation, {name:\"addPemasukanMutation\"}),\r\n  // graphql(hapusPemasukanMutation, {name:\"hapusPemasukanMutation\"}),\r\n  graphql(getAkunDebitKreditsQuery, {name:\"getAkunDebitKreditsQuery\"}),\r\n)(Pemasukan);\r\n","import { gql } from 'apollo-boost';\r\n\r\nconst getProyeksQuery = gql`\r\n{\r\n\tproyeks {\r\n\t\tnama\r\n\t\talamat\r\n\t\tbudget\r\n\t\ttanggal_mulai\r\n\t\ttanggal_selesai\r\n\t\tclient{\r\n\t\t\tnama\r\n\t\t\talamat\r\n\t\t\tno_kontak\r\n\t\t\temail\r\n\t\t\tid\r\n\t\t}\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getProyekQuery = gql`\r\n\tquery($id: ID){\r\n\t\tproyek(id: $id) {\r\n\t\t\tnama\r\n\t\t\talamat\r\n\t\t\tbudget\r\n\t\t\ttanggal_mulai\r\n\t\t\ttanggal_selesai\r\n\t\t\tclient{\r\n\t\t\t\tnama\r\n\t\t\t\talamat\r\n\t\t\t\tno_kontak\r\n\t\t\t\temail\r\n\t\t\t\tid\r\n\t\t\t}\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst getClientsQuery = gql`\r\n{\r\n\tclients {\r\n\t\tnama\r\n\t\talamat\r\n\t\tno_kontak\r\n\t\temail\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getClientQuery = gql`\r\n\tquery($id: ID){\r\n\t\tclient(id: $id) {\r\n\t\t\tnama\r\n\t\t\talamat\r\n\t\t\tno_kontak\r\n\t\t\temail\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst getPengeluaransQuery = gql`\r\n{\r\n\tpengeluarans {\r\n\t\tklien{\r\n\t\t\tnama_klien\r\n\t\t\tid\r\n\t\t}\r\n\t\ttanggal_transaksi\r\n\t\tjatuh_tempo\r\n\t\tketerangan\r\n\t\tkode\r\n\t\tjumlah_dana\r\n\t\tjumlah_bayar\r\n\t\takun_debit\r\n\t\takun_kredit\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getPengeluaranQuery = gql`\r\n\tquery($id: ID){\r\n\t\tpengeluaran(id: $id) {\r\n\t\t\tklien{\r\n\t\t\t\tnama_klien\r\n\t\t\t\tid\r\n\t\t\t}\r\n\t\t\ttanggal_transaksi\r\n\t\t\tjatuh_tempo\r\n\t\t\tketerangan\r\n\t\t\tkode\r\n\t\t\tjumlah_dana\r\n\t\t\tjumlah_bayar\r\n\t\t\takun_debit\r\n\t\t\takun_kredit\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst addPengeluaranMutation = gql`\r\n\tmutation($klientagihan_id:String!, $tanggal_transaksi:String!, $jatuh_tempo:String!,\r\n\t\t$keterangan:String!, $kode:String!,\r\n\t\t$akun_debit:String!, $akun_kredit:String!, $jumlah_dana:Int!,\r\n\t\t$jumlah_bayar:Int!,){\r\n\t\taddPengeluaran(klientagihan_id: $klientagihan_id,\r\n\t\ttanggal_transaksi: $tanggal_transaksi,\r\n\t\tjatuh_tempo: $jatuh_tempo,\r\n\t\tketerangan: $keterangan,\r\n\t\tkode: $kode,\r\n\t\takun_debit: $akun_debit,\r\n\t\takun_kredit: $akun_kredit,\r\n\t\tjumlah_dana: $jumlah_dana,\r\n\t\tjumlah_bayar: $jumlah_bayar,){\r\n\t\t\ttanggal_transaksi\r\n\t\t\tjatuh_tempo\r\n\t\t\tketerangan\r\n\t\t\tkode\r\n\t\t\takun_debit\r\n\t\t\takun_kredit\r\n\t\t\tjumlah_dana\r\n\t\t\tjumlah_bayar\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst updatePengeluaranMutation = gql`\r\n\tmutation($id:ID!, $klientagihan_id:String!, $tanggal_transaksi:String!, $jatuh_tempo:String!,\r\n\t\t$keterangan:String!, $kode:String!,\r\n\t\t$akun_debit:String!, $akun_kredit:String!, $jumlah_dana:Int!,\r\n\t\t$jumlah_bayar:Int!,){\r\n\t\tupdatePengeluaran(id:$id,\r\n\t\tklientagihan_id: $klientagihan_id,\r\n\t\ttanggal_transaksi: $tanggal_transaksi,\r\n\t\tjatuh_tempo: $jatuh_tempo,\r\n\t\tketerangan: $keterangan,\r\n\t\tkode: $kode,\r\n\t\takun_debit: $akun_debit,\r\n\t\takun_kredit: $akun_kredit,\r\n\t\tjumlah_dana: $jumlah_dana,\r\n\t\tjumlah_bayar: $jumlah_bayar,){\r\n\t\t\ttanggal_transaksi\r\n\t\t\tjatuh_tempo\r\n\t\t\tketerangan\r\n\t\t\tkode\r\n\t\t\takun_debit\r\n\t\t\takun_kredit\r\n\t\t\tjumlah_dana\r\n\t\t\tjumlah_bayar\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusPengeluaranMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusPengeluaran(id: $id){\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n//----------------------------------------------------------------------------//\r\nconst getPemasukansQuery = gql`\r\n{\r\n\tpemasukans {\r\n\t\tklien{\r\n\t\t\tnama\r\n\t\t\tid\r\n\t\t}\r\n\t\tproyek{\r\n\t\t\tnama\r\n\t\t\tid\r\n\t\t}\r\n\t\ttanggal_transaksi\r\n\t\tjatuh_tempo\r\n\t\tketerangan\r\n\t\tkode\r\n\t\ttotal_harga\r\n\t\tdana_diterima\r\n\t\takun_debit\r\n\t\takun_kredit\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getPemasukanQuery = gql`\r\n\tquery($id: ID){\r\n\t\tpemasukan(id: $id) {\r\n\t\t\tklien{\r\n\t\t\t\tnama\r\n\t\t\t\tid\r\n\t\t\t}\r\n\t\t\tproyek{\r\n\t\t\t\tnama\r\n\t\t\t\tid\r\n\t\t\t}\r\n\t\t\ttanggal_transaksi\r\n\t\t\tjatuh_tempo\r\n\t\t\tketerangan\r\n\t\t\tkode\r\n\t\t\ttotal_harga\r\n\t\t\tdana_diterima\r\n\t\t\takun_debit\r\n\t\t\takun_kredit\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst addPemasukanMutation = gql`\r\n\tmutation($klien_id:String!,$proyek_id:String!, $tanggal_transaksi:String!, $jatuh_tempo:String!,\r\n\t\t$keterangan:String!, $kode:String!,\r\n\t\t$akun_debit:String!, $akun_kredit:String!, $total_harga:Int!,\r\n\t\t$dana_diterima:Int!,){\r\n\t\taddPemasukan(klien_id: $klien_id,\r\n\t\tproyek_id: $proyek_id,\r\n\t\ttanggal_transaksi: $tanggal_transaksi,\r\n\t\tjatuh_tempo: $jatuh_tempo,\r\n\t\tketerangan: $keterangan,\r\n\t\tkode: $kode,\r\n\t\takun_debit: $akun_debit,\r\n\t\takun_kredit: $akun_kredit,\r\n\t\ttotal_harga: $total_harga,\r\n\t\tdana_diterima: $dana_diterima,){\r\n\t\t\ttanggal_transaksi\r\n\t\t\tjatuh_tempo\r\n\t\t\tketerangan\r\n\t\t\tkode\r\n\t\t\takun_debit\r\n\t\t\takun_kredit\r\n\t\t\ttotal_harga\r\n\t\t\tdana_diterima\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst updatePemasukanMutation = gql`\r\n\tmutation($id:ID!, $klientagihan_id:String!, $tanggal_transaksi:String!, $jatuh_tempo:String!,\r\n\t\t$keterangan:String!, $kode:String!,\r\n\t\t$akun_debit:String!, $akun_kredit:String!, $jumlah_dana:Int!,\r\n\t\t$jumlah_bayar:Int!,){\r\n\t\tupdatePemasukan(id:$id,\r\n\t\tklientagihan_id: $klientagihan_id,\r\n\t\ttanggal_transaksi: $tanggal_transaksi,\r\n\t\tjatuh_tempo: $jatuh_tempo,\r\n\t\tketerangan: $keterangan,\r\n\t\tkode: $kode,\r\n\t\takun_debit: $akun_debit,\r\n\t\takun_kredit: $akun_kredit,\r\n\t\tjumlah_dana: $jumlah_dana,\r\n\t\tjumlah_bayar: $jumlah_bayar,){\r\n\t\t\ttanggal_transaksi\r\n\t\t\tjatuh_tempo\r\n\t\t\tketerangan\r\n\t\t\tkode\r\n\t\t\takun_debit\r\n\t\t\takun_kredit\r\n\t\t\tjumlah_dana\r\n\t\t\tjumlah_bayar\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusPemasukanMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusPemasukan(id: $id){\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n//----------------------------------------------------------------------------//\r\nconst getKlienTagihansQuery = gql`\r\n{\r\n\tklientagihans {\r\n\t\tnama_klien\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getKlienTagihanQuery = gql`\r\n\tquery($id: ID){\r\n\t\tklientagihan(id: $id) {\r\n\t\t\tnama_klien\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst addKlienTagihanMutation = gql`\r\n\tmutation($nama_klien:String!){\r\n\t\taddKlienTagihan(nama_klien: $nama_klien){\r\n\t\t\tnama_klien\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusKlienTagihanMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusKlienTagihan(id: $id){\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n//----------------------------------------------------------------------------//\r\nconst getAkunDebitKreditsQuery = gql`\r\n{\r\n\takundebitkredits {\r\n\t\tkode_akun\r\n\t\tnama_akun\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getAkunDebitKreditQuery = gql`\r\n\tquery($id: ID){\r\n\t\takundebitkredit(id: $id) {\r\n\t\t\tkode_akun\r\n\t\t\tnama_akun\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst addAkunDebitKreditMutation = gql`\r\n\tmutation($kode_akun:String!,\r\n\t\t$nama_akun:String!,){\r\n\t\taddAkunDebitKredit(kode_akun: $kode_akun,\r\n\t\t\tnama_akun: $nama_akun,){\r\n\t\t\tkode_akun\r\n\t\t\tnama_akun\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst updateAkunDebitKreditMutation = gql`\r\n\tmutation($id:ID!,\r\n\t\t$kode_akun:String!,\r\n\t\t$nama_akun:String!,){\r\n\t\tupdateAkunDebitKredit(id:$id,\r\n\t\t\tkode_akun: $kode_akun,\r\n\t\t\tnama_akun: $nama_akun,){\r\n\t\t\tkode_akun\r\n\t\t\tnama_akun\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusAkunDebitKreditMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusAkunDebitKredit(id: $id){\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n//----------------------------------------------------------------------------//\r\nconst getPurchaseOrdersQuery = gql`\r\n{\r\n\tpurchaseOrders {\r\n\t\tkode\r\n\t\ttanggal\r\n\t\ttanggal_setuju\r\n\t\tstatus\r\n\t\ttotal_harga\r\n\t\tid\r\n\t}\r\n}\r\n`\r\n//----------------------------------------------------------------------------//\r\nexport {\r\n\tgetClientsQuery,\r\n\tgetClientQuery,\r\n\tgetProyeksQuery,\r\n\tgetProyekQuery,\r\n\tgetKlienTagihansQuery,\r\n\tgetKlienTagihanQuery,\r\n\taddKlienTagihanMutation,\r\n\thapusKlienTagihanMutation,\r\n\tgetAkunDebitKreditsQuery,\r\n\tgetAkunDebitKreditQuery,\r\n\taddAkunDebitKreditMutation,\r\n\tupdateAkunDebitKreditMutation,\r\n\thapusAkunDebitKreditMutation,\r\n\tgetPurchaseOrdersQuery,\r\n\tgetPengeluaranQuery,\r\n\tgetPengeluaransQuery,\r\n\taddPengeluaranMutation,\r\n\tupdatePengeluaranMutation,\r\n\thapusPengeluaranMutation,\r\n\tgetPemasukanQuery,\r\n\tgetPemasukansQuery,\r\n\taddPemasukanMutation,\r\n\tupdatePemasukanMutation,\r\n\thapusPemasukanMutation,\r\n};\r\n"],"sourceRoot":""}