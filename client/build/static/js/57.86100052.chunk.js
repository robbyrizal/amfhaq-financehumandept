(this["webpackJsonpamfhaq-financehumandept"]=this["webpackJsonpamfhaq-financehumandept"]||[]).push([[57],{136:function(t,n,a){},371:function(t,n,a){"use strict";a.r(n);var e=a(23),r=a(24),i=a(26),u=a(25),l=a(2),d=a.n(l),o=a(70),k=a(63),m=a(64),c=a(65),s=a(67),g=a(66),_=a(76),h=a(87),b=a(88),p=a(89),f=a(113),j=a(110),$=a(111),y=a(93),E=a(96),v=a(97),O=a(75),S=a(94),D=a(99),I=a(28),P=a(388),K=a(74),T=a(92),q=(a(136),function(t){Object(i.a)(a,t);var n=Object(u.a)(a);function a(t){var r;Object(e.a)(this,a),r=n.call(this,t);var i=new Date,u=i.toISOString().substr(0,10);i.setDate(i.getDate()+30);var l=i.toISOString().substr(0,10);return r.state={kode:"",tanggal_transaksi:u,klien:"",proyek:"",keterangan:"",jatuh_tempo:l,total_harga:"",dana_diterima:"",akun_debit:"",akun_kredit:"",modalIsOpen:!1},r}return Object(r.a)(a,[{key:"toggleModal",value:function(){this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"getKodeBaru",value:function(){var t="",n=1;return this.props.getPemasukansQuery.pemasukans.map((function(n){""!==n.kode&&(t=n.kode)})),""!==t&&(n=parseInt(t.substring(4,7))+1),t=n<10?"INC-00"+n:n>=10&&n<100?"INC-0"+n:"INC-"+n}},{key:"submitForm",value:function(t){t.preventDefault(),this.toggleModal(),this.props.addPemasukanMutation({variables:{kode:this.getKodeBaru(),tanggal_transaksi:this.state.tanggal_transaksi,klien_id:this.state.klien,proyek_id:this.state.proyek,keterangan:this.state.keterangan,jatuh_tempo:this.state.jatuh_tempo,akun_debit:this.state.akun_debit,akun_kredit:this.state.akun_kredit,total_harga:parseInt(t.target.total_hargaF.value),dana_diterima:parseInt(this.state.dana_diterima)},refetchQueries:[{query:T.h}]})}},{key:"onDelete",value:function(t){this.props.hapusPemasukanMutation({variables:{id:t},refetchQueries:[{query:T.h}]})}},{key:"displayAkunDebit",value:function(){var t=this.props.getAkunDebitKreditsQuery;return t.loading?d.a.createElement("div",null,"Loading Data Divisi..."):t.akundebitkredits.map((function(t){return d.a.createElement("option",{key:t.id,value:t.id}," ",t.nama_akun," ")}))}},{key:"displayAkunKredit",value:function(){var t=this.props.getAkunDebitKreditsQuery;return t.loading?d.a.createElement("div",null,"Loading Data Divisi..."):t.akundebitkredits.map((function(t){return d.a.createElement("option",{key:t.id,value:t.id}," ",t.nama_akun," ")}))}},{key:"displayPemasukan",value:function(){var t=this,n=this.props.getPemasukansQuery,a=0;return n.loading?void 0:n.pemasukans.map((function(n){return a++,d.a.createElement("tr",{key:n.id},d.a.createElement("td",null,a),d.a.createElement("td",null,n.tanggal_transaksi),d.a.createElement("td",null,n.klien.nama),d.a.createElement("td",null,n.proyek.nama),d.a.createElement("td",null,n.kode),d.a.createElement("td",null,n.keterangan),d.a.createElement("td",null,n.total_harga),d.a.createElement("td",null,"Tunai / Cicilan"),d.a.createElement("td",null,"Lunas / Belum Lunas"),d.a.createElement("td",null,d.a.createElement(I.Link,{to:"/pemasukan/editDataPemasukan/".concat(n.id)},d.a.createElement(o.a,{color:"success",size:"sm"},d.a.createElement("i",{className:"fa fa-pencil"})))),d.a.createElement("td",null,d.a.createElement(o.a,{onClick:t.onDelete.bind(t,n.id),color:"danger",size:"sm"},d.a.createElement("i",{className:"fa fa-trash"}))))}))}},{key:"displayKlien",value:function(){var t=this.props.getClientsQuery;return t.loading?d.a.createElement("div",null,"Loading Data Klien..."):t.clients.map((function(t){return d.a.createElement("option",{key:t.id,value:t.id}," ",t.nama," ")}))}},{key:"displayProyek",value:function(){var t=this.state.klien,n=this.props.getProyeksQuery;return n.loading?d.a.createElement("div",null,"Loading Data Proyek..."):n.proyeks.map((function(n){if(""===t||n.client.id===t)return d.a.createElement("option",{key:n.id,value:n.id}," ",n.nama," ")}))}},{key:"setTotalHarga",value:function(){var t=this,n=0,a=this.props.getProyeksQuery;return a.loading?d.a.createElement("div",null,"Loading Data Proyek..."):(a.proyeks.map((function(a){a.id===t.state.proyek&&(n=parseInt(a.budget))})),n)}},{key:"render",value:function(){var t=this;return d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(k.a,null,d.a.createElement(m.a,{md:"12"},d.a.createElement(c.a,null,d.a.createElement(s.a,null,d.a.createElement("i",{className:"fa fa-align-justify"})," Daftar Pemasukan",d.a.createElement(o.a,{size:"sm",color:"primary",className:"float-right mb-0",onClick:this.toggleModal.bind(this)},d.a.createElement("i",{className:"fa fa-plus-square"})," Buat Transaksi Pemasukan Baru")),d.a.createElement(g.a,null,d.a.createElement(_.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"No"),d.a.createElement("th",null,"Tanggal Transaksi"),d.a.createElement("th",null,"Klien"),d.a.createElement("th",null,"Proyek"),d.a.createElement("th",null,"Kode Invoice"),d.a.createElement("th",null,"Keterangan"),d.a.createElement("th",null,"Nilai"),d.a.createElement("th",null,"Tipe Pembayaran"),d.a.createElement("th",null,"Status"),d.a.createElement("th",{colSpan:"2"},"Aksi"))),d.a.createElement("tbody",null,this.displayPemasukan())),d.a.createElement("nav",null,d.a.createElement(h.a,null,d.a.createElement(b.a,null,d.a.createElement(p.a,{previous:!0,tag:"button"},"Prev")),d.a.createElement(b.a,{active:!0},d.a.createElement(p.a,{tag:"button"},"1")),d.a.createElement(b.a,null,d.a.createElement(p.a,{tag:"button"},"2")),d.a.createElement(b.a,null,d.a.createElement(p.a,{tag:"button"},"3")),d.a.createElement(b.a,null,d.a.createElement(p.a,{tag:"button"},"4")),d.a.createElement(b.a,null,d.a.createElement(p.a,{next:!0,tag:"button"},"Next")))))))),d.a.createElement(f.a,{isOpen:this.state.modalIsOpen},d.a.createElement(j.a,null,"Form Tambah Data Pemasukan"),d.a.createElement($.a,null,d.a.createElement(y.a,{onSubmit:function(n){t.submitForm(n)}},d.a.createElement(E.a,null,d.a.createElement(v.a,{htmlFor:"name"},"Klien / Vendor"),d.a.createElement(O.a,{type:"select",id:"vendor",onChange:function(n){return t.setState({klien:n.target.value})},required:!0},d.a.createElement("option",{value:""},"Pilih Klien / Vendor"),this.displayKlien())),d.a.createElement(E.a,null,d.a.createElement(v.a,{htmlFor:"name"},"Nama Proyek"),d.a.createElement(O.a,{type:"select",id:"proyek",onChange:function(n){return t.setState({proyek:n.target.value})},required:!0},d.a.createElement("option",{value:""},"Pilih Proyek"),this.displayProyek())),d.a.createElement(E.a,null,d.a.createElement(v.a,{htmlFor:"name"},"Keterangan"),d.a.createElement(O.a,{type:"textarea",name:"Keterangan",id:"keterangan",placeholder:"Keterangan",onChange:function(n){return t.setState({keterangan:n.target.value})},required:!0})),d.a.createElement(E.a,null,d.a.createElement(v.a,{htmlFor:"name"},"Total Harga"),d.a.createElement(S.a,null,d.a.createElement(D.a,{addonType:"prepend"},"Rp."),d.a.createElement(O.a,{type:"number",name:"total_hargaF",Value:this.setTotalHarga(),placeholder:"Masukkan Jumlah Biaya",className:"text-align-right",readOnly:!0}),d.a.createElement(D.a,{addonType:"append"},".00"))),d.a.createElement(E.a,null,d.a.createElement(v.a,{htmlFor:"name"},"Dana Diterima"),d.a.createElement(S.a,null,d.a.createElement(D.a,{addonType:"prepend"},"Rp."),d.a.createElement(O.a,{type:"number",max:this.setTotalHarga(),placeholder:"Masukkan Dana Diterima",className:"text-align-right",onChange:function(n){return t.setState({dana_diterima:n.target.value})},required:!0}),d.a.createElement(D.a,{addonType:"append"},".00"))),d.a.createElement(E.a,null,d.a.createElement(v.a,{htmlFor:"name"},"Tanggal Transaksi"),d.a.createElement(O.a,{type:"date",defaultValue:this.state.tanggal_transaksi,id:"tgltrans",placeholder:"Masukkan Tanggal Transaksi",onChange:function(n){return t.setState({tanggal_transaksi:n.target.value})},required:!0})),d.a.createElement(E.a,null,d.a.createElement(v.a,{htmlFor:"name"},"Jatuh Tempo"),d.a.createElement(O.a,{type:"date",defaultValue:this.state.jatuh_tempo,id:"jatuh_tempo",placeholder:"Masukkan Tanggal Jatuh Tempo",onChange:function(n){return t.setState({jatuh_tempo:n.target.value})},required:!0})),d.a.createElement(E.a,null,d.a.createElement(v.a,{htmlFor:"name"},"Akun Debit"),d.a.createElement(O.a,{type:"select",name:"akun_deb",id:"akun_deb",onChange:function(n){return t.setState({akun_debit:n.target.value})},required:!0},d.a.createElement("option",{value:""},"Pilih Akun Debit"),this.displayAkunDebit())),d.a.createElement(E.a,null,d.a.createElement(v.a,{htmlFor:"name"},"Akun Kredit"),d.a.createElement(O.a,{type:"select",name:"akun_kre",id:"akun_kre",onChange:function(n){return t.setState({akun_kredit:n.target.value})},required:!0},d.a.createElement("option",{value:""},"Pilih Akun Kredit"),this.displayAkunKredit())),d.a.createElement(o.a,{type:"submit",color:"primary"},"Submit"),d.a.createElement(o.a,{color:"danger",onClick:this.toggleModal.bind(this)},"Batal")))))}}]),a}(l.Component));n.default=K(Object(P.a)(T.h,{name:"getPemasukansQuery"}),Object(P.a)(T.f,{name:"getClientsQuery"}),Object(P.a)(T.j,{name:"getProyeksQuery"}),Object(P.a)(T.c,{name:"addPemasukanMutation"}),Object(P.a)(T.e,{name:"getAkunDebitKreditsQuery"}))(q)},92:function(t,n,a){"use strict";a.d(n,"f",(function(){return K})),a.d(n,"j",(function(){return P})),a.d(n,"g",(function(){return F})),a.d(n,"b",(function(){return Q})),a.d(n,"m",(function(){return M})),a.d(n,"e",(function(){return L})),a.d(n,"a",(function(){return B})),a.d(n,"o",(function(){return x})),a.d(n,"l",(function(){return J})),a.d(n,"k",(function(){return V})),a.d(n,"i",(function(){return T})),a.d(n,"d",(function(){return q})),a.d(n,"n",(function(){return C})),a.d(n,"h",(function(){return A})),a.d(n,"c",(function(){return N}));var e=a(84),r=a(31);function i(){var t=Object(e.a)(["\n{\n\tpurchaseOrders {\n\t\tkode\n\t\ttanggal\n\t\ttanggal_setuju\n\t\tstatus\n\t\ttotal_harga\n\t\tid\n\t}\n}\n"]);return i=function(){return t},t}function u(){var t=Object(e.a)(["\n\tmutation($id:ID!){\n\t\thapusAkunDebitKredit(id: $id){\n\t\t\tid\n\t\t}\n\t}\n"]);return u=function(){return t},t}function l(){var t=Object(e.a)(["\n\tmutation($id:ID!,\n\t\t$kode_akun:String!,\n\t\t$nama_akun:String!,){\n\t\tupdateAkunDebitKredit(id:$id,\n\t\t\tkode_akun: $kode_akun,\n\t\t\tnama_akun: $nama_akun,){\n\t\t\tkode_akun\n\t\t\tnama_akun\n\t\t\tid\n\t\t}\n\t}\n"]);return l=function(){return t},t}function d(){var t=Object(e.a)(["\n\tmutation($kode_akun:String!,\n\t\t$nama_akun:String!,){\n\t\taddAkunDebitKredit(kode_akun: $kode_akun,\n\t\t\tnama_akun: $nama_akun,){\n\t\t\tkode_akun\n\t\t\tnama_akun\n\t\t\tid\n\t\t}\n\t}\n"]);return d=function(){return t},t}function o(){var t=Object(e.a)(["\n\tquery($id: ID){\n\t\takundebitkredit(id: $id) {\n\t\t\tkode_akun\n\t\t\tnama_akun\n\t\t\tid\n\t\t}\n\t}\n"]);return o=function(){return t},t}function k(){var t=Object(e.a)(["\n{\n\takundebitkredits {\n\t\tkode_akun\n\t\tnama_akun\n\t\tid\n\t}\n}\n"]);return k=function(){return t},t}function m(){var t=Object(e.a)(["\n\tmutation($id:ID!){\n\t\thapusKlienTagihan(id: $id){\n\t\t\tid\n\t\t}\n\t}\n"]);return m=function(){return t},t}function c(){var t=Object(e.a)(["\n\tmutation($nama_klien:String!){\n\t\taddKlienTagihan(nama_klien: $nama_klien){\n\t\t\tnama_klien\n\t\t\tid\n\t\t}\n\t}\n"]);return c=function(){return t},t}function s(){var t=Object(e.a)(["\n\tquery($id: ID){\n\t\tklientagihan(id: $id) {\n\t\t\tnama_klien\n\t\t\tid\n\t\t}\n\t}\n"]);return s=function(){return t},t}function g(){var t=Object(e.a)(["\n{\n\tklientagihans {\n\t\tnama_klien\n\t\tid\n\t}\n}\n"]);return g=function(){return t},t}function _(){var t=Object(e.a)(["\n\tmutation($id:ID!){\n\t\thapusPemasukan(id: $id){\n\t\t\tid\n\t\t}\n\t}\n"]);return _=function(){return t},t}function h(){var t=Object(e.a)(["\n\tmutation($id:ID!, $klientagihan_id:String!, $tanggal_transaksi:String!, $jatuh_tempo:String!,\n\t\t$keterangan:String!, $kode:String!,\n\t\t$akun_debit:String!, $akun_kredit:String!, $jumlah_dana:Int!,\n\t\t$jumlah_bayar:Int!,){\n\t\tupdatePemasukan(id:$id,\n\t\tklientagihan_id: $klientagihan_id,\n\t\ttanggal_transaksi: $tanggal_transaksi,\n\t\tjatuh_tempo: $jatuh_tempo,\n\t\tketerangan: $keterangan,\n\t\tkode: $kode,\n\t\takun_debit: $akun_debit,\n\t\takun_kredit: $akun_kredit,\n\t\tjumlah_dana: $jumlah_dana,\n\t\tjumlah_bayar: $jumlah_bayar,){\n\t\t\ttanggal_transaksi\n\t\t\tjatuh_tempo\n\t\t\tketerangan\n\t\t\tkode\n\t\t\takun_debit\n\t\t\takun_kredit\n\t\t\tjumlah_dana\n\t\t\tjumlah_bayar\n\t\t\tid\n\t\t}\n\t}\n"]);return h=function(){return t},t}function b(){var t=Object(e.a)(["\n\tmutation($klien_id:String!,$proyek_id:String!, $tanggal_transaksi:String!, $jatuh_tempo:String!,\n\t\t$keterangan:String!, $kode:String!,\n\t\t$akun_debit:String!, $akun_kredit:String!, $total_harga:Int!,\n\t\t$dana_diterima:Int!,){\n\t\taddPemasukan(klien_id: $klien_id,\n\t\tproyek_id: $proyek_id,\n\t\ttanggal_transaksi: $tanggal_transaksi,\n\t\tjatuh_tempo: $jatuh_tempo,\n\t\tketerangan: $keterangan,\n\t\tkode: $kode,\n\t\takun_debit: $akun_debit,\n\t\takun_kredit: $akun_kredit,\n\t\ttotal_harga: $total_harga,\n\t\tdana_diterima: $dana_diterima,){\n\t\t\ttanggal_transaksi\n\t\t\tjatuh_tempo\n\t\t\tketerangan\n\t\t\tkode\n\t\t\takun_debit\n\t\t\takun_kredit\n\t\t\ttotal_harga\n\t\t\tdana_diterima\n\t\t\tid\n\t\t}\n\t}\n"]);return b=function(){return t},t}function p(){var t=Object(e.a)(["\n\tquery($id: ID){\n\t\tpemasukan(id: $id) {\n\t\t\tklien{\n\t\t\t\tnama\n\t\t\t\tid\n\t\t\t}\n\t\t\tproyek{\n\t\t\t\tnama\n\t\t\t\tid\n\t\t\t}\n\t\t\ttanggal_transaksi\n\t\t\tjatuh_tempo\n\t\t\tketerangan\n\t\t\tkode\n\t\t\ttotal_harga\n\t\t\tdana_diterima\n\t\t\takun_debit\n\t\t\takun_kredit\n\t\t\tid\n\t\t}\n\t}\n"]);return p=function(){return t},t}function f(){var t=Object(e.a)(["\n{\n\tpemasukans {\n\t\tklien{\n\t\t\tnama\n\t\t\tid\n\t\t}\n\t\tproyek{\n\t\t\tnama\n\t\t\tid\n\t\t}\n\t\ttanggal_transaksi\n\t\tjatuh_tempo\n\t\tketerangan\n\t\tkode\n\t\ttotal_harga\n\t\tdana_diterima\n\t\takun_debit\n\t\takun_kredit\n\t\tid\n\t}\n}\n"]);return f=function(){return t},t}function j(){var t=Object(e.a)(["\n\tmutation($id:ID!){\n\t\thapusPengeluaran(id: $id){\n\t\t\tid\n\t\t}\n\t}\n"]);return j=function(){return t},t}function $(){var t=Object(e.a)(["\n\tmutation($id:ID!, $klientagihan_id:String!, $tanggal_transaksi:String!, $jatuh_tempo:String!,\n\t\t$keterangan:String!, $kode:String!,\n\t\t$akun_debit:String!, $akun_kredit:String!, $jumlah_dana:Int!,\n\t\t$jumlah_bayar:Int!,){\n\t\tupdatePengeluaran(id:$id,\n\t\tklientagihan_id: $klientagihan_id,\n\t\ttanggal_transaksi: $tanggal_transaksi,\n\t\tjatuh_tempo: $jatuh_tempo,\n\t\tketerangan: $keterangan,\n\t\tkode: $kode,\n\t\takun_debit: $akun_debit,\n\t\takun_kredit: $akun_kredit,\n\t\tjumlah_dana: $jumlah_dana,\n\t\tjumlah_bayar: $jumlah_bayar,){\n\t\t\ttanggal_transaksi\n\t\t\tjatuh_tempo\n\t\t\tketerangan\n\t\t\tkode\n\t\t\takun_debit\n\t\t\takun_kredit\n\t\t\tjumlah_dana\n\t\t\tjumlah_bayar\n\t\t\tid\n\t\t}\n\t}\n"]);return $=function(){return t},t}function y(){var t=Object(e.a)(["\n\tmutation($klientagihan_id:String!, $tanggal_transaksi:String!, $jatuh_tempo:String!,\n\t\t$keterangan:String!, $kode:String!,\n\t\t$akun_debit:String!, $akun_kredit:String!, $jumlah_dana:Int!,\n\t\t$jumlah_bayar:Int!,){\n\t\taddPengeluaran(klientagihan_id: $klientagihan_id,\n\t\ttanggal_transaksi: $tanggal_transaksi,\n\t\tjatuh_tempo: $jatuh_tempo,\n\t\tketerangan: $keterangan,\n\t\tkode: $kode,\n\t\takun_debit: $akun_debit,\n\t\takun_kredit: $akun_kredit,\n\t\tjumlah_dana: $jumlah_dana,\n\t\tjumlah_bayar: $jumlah_bayar,){\n\t\t\ttanggal_transaksi\n\t\t\tjatuh_tempo\n\t\t\tketerangan\n\t\t\tkode\n\t\t\takun_debit\n\t\t\takun_kredit\n\t\t\tjumlah_dana\n\t\t\tjumlah_bayar\n\t\t\tid\n\t\t}\n\t}\n"]);return y=function(){return t},t}function E(){var t=Object(e.a)(["\n\tquery($id: ID){\n\t\tpengeluaran(id: $id) {\n\t\t\tklien{\n\t\t\t\tnama_klien\n\t\t\t\tid\n\t\t\t}\n\t\t\ttanggal_transaksi\n\t\t\tjatuh_tempo\n\t\t\tketerangan\n\t\t\tkode\n\t\t\tjumlah_dana\n\t\t\tjumlah_bayar\n\t\t\takun_debit\n\t\t\takun_kredit\n\t\t\tid\n\t\t}\n\t}\n"]);return E=function(){return t},t}function v(){var t=Object(e.a)(["\n{\n\tpengeluarans {\n\t\tklien{\n\t\t\tnama_klien\n\t\t\tid\n\t\t}\n\t\ttanggal_transaksi\n\t\tjatuh_tempo\n\t\tketerangan\n\t\tkode\n\t\tjumlah_dana\n\t\tjumlah_bayar\n\t\takun_debit\n\t\takun_kredit\n\t\tid\n\t}\n}\n"]);return v=function(){return t},t}function O(){var t=Object(e.a)(["\n\tquery($id: ID){\n\t\tclient(id: $id) {\n\t\t\tnama\n\t\t\talamat\n\t\t\tno_kontak\n\t\t\temail\n\t\t\tid\n\t\t}\n\t}\n"]);return O=function(){return t},t}function S(){var t=Object(e.a)(["\n{\n\tclients {\n\t\tnama\n\t\talamat\n\t\tno_kontak\n\t\temail\n\t\tid\n\t}\n}\n"]);return S=function(){return t},t}function D(){var t=Object(e.a)(["\n\tquery($id: ID){\n\t\tproyek(id: $id) {\n\t\t\tnama\n\t\t\talamat\n\t\t\tbudget\n\t\t\ttanggal_mulai\n\t\t\ttanggal_selesai\n\t\t\tclient{\n\t\t\t\tnama\n\t\t\t\talamat\n\t\t\t\tno_kontak\n\t\t\t\temail\n\t\t\t\tid\n\t\t\t}\n\t\t\tid\n\t\t}\n\t}\n"]);return D=function(){return t},t}function I(){var t=Object(e.a)(["\n{\n\tproyeks {\n\t\tnama\n\t\talamat\n\t\tbudget\n\t\ttanggal_mulai\n\t\ttanggal_selesai\n\t\tclient{\n\t\t\tnama\n\t\t\talamat\n\t\t\tno_kontak\n\t\t\temail\n\t\t\tid\n\t\t}\n\t\tid\n\t}\n}\n"]);return I=function(){return t},t}var P=Object(r.b)(I()),K=(Object(r.b)(D()),Object(r.b)(S())),T=(Object(r.b)(O()),Object(r.b)(v())),q=(Object(r.b)(E()),Object(r.b)(y())),C=(Object(r.b)($()),Object(r.b)(j())),A=Object(r.b)(f()),N=(Object(r.b)(p()),Object(r.b)(b())),F=(Object(r.b)(h()),Object(r.b)(_()),Object(r.b)(g())),Q=(Object(r.b)(s()),Object(r.b)(c())),M=Object(r.b)(m()),L=Object(r.b)(k()),B=(Object(r.b)(o()),Object(r.b)(d())),x=Object(r.b)(l()),J=Object(r.b)(u()),V=Object(r.b)(i())}}]);
//# sourceMappingURL=57.86100052.chunk.js.map